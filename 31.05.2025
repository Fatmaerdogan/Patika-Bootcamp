# Ä°liÅŸkisel Veri TabanÄ± Nedir?

Ä°liÅŸkisel veritabanÄ±, verileri **tablolar** (satÄ±r ve sÃ¼tunlar) halinde organize eden ve bu tablolar arasÄ±ndaki **iliÅŸkileri (relation)** tanÄ±mlayan **veritabanÄ± modelidir**.

## AvantajlarÄ±

- Veriler dÃ¼zenlidir ve tekrarsÄ±z tutulur.
- Veri bÃ¼tÃ¼nlÃ¼ÄŸÃ¼ kurallarÄ±na uyar.
- KarmaÅŸÄ±k sorgular iÃ§in **SQL dili** kullanÄ±lÄ±r.
- Ã‡ok bÃ¼yÃ¼k veri kÃ¼tlelerini hÄ±zlÄ± iÅŸleyebilir.

# Ä°liÅŸkisel Veri TabanÄ± Temel Ã–zellikleri

Ä°liÅŸkisel veritabanlarÄ±nda veriler tablolar hÃ¢linde organize edilir. Her tablo, belirli bir veri kÃ¼mesini temsil eder ve satÄ±r-sÃ¼tun yapÄ±sÄ±yla Ã§alÄ±ÅŸÄ±r.

## Ã–zellikler ve AÃ§Ä±klamalarÄ±

| Ã–zellik                      | AÃ§Ä±klama                                                                    |
|------------------------------|-----------------------------------------------------------------------------|
| **Tablolar**                 | Her veri kÃ¼mesi (Ã¶rneÄŸin: MÃ¼ÅŸteriler, SipariÅŸler) ayrÄ± bir tabloya yazÄ±lÄ±r. |
| **SatÄ±rlar (kayÄ±tlar)**      | Her satÄ±r bir veriyi temsil eder (Ã¶rn. bir mÃ¼ÅŸteri).                        |
| **SÃ¼tunlar (alanlar)**       | Her sÃ¼tun verinin bir Ã¶zelliÄŸidir (Ã¶rn. Ad, Soyad, Telefon).                |
| **Birincil Anahtar (Primary Key)** | Her satÄ±rÄ± benzersiz tanÄ±mlar.                                        |
| **YabancÄ± Anahtar (Foreign Key)**  | Tablolar arasÄ±nda iliÅŸki kurar (Ã¶rn. sipariÅŸ-mÃ¼ÅŸteri). 

# Ä°liÅŸkisel Veri TabanÄ± Ä°ÅŸ AkÄ±ÅŸlarÄ±

Bu dokÃ¼man, iliÅŸkisel veritabanÄ± yapÄ±sÄ±nda kullanÄ±cÄ± kayÄ±t iÅŸlemi ve Ã¼rÃ¼n-sepet yÃ¶netimi sÃ¼reÃ§lerini aÃ§Ä±klamaktadÄ±r.

---

## ğŸ§¾ 1. KullanÄ±cÄ± KaydÄ± (Registration / Login)

### ğŸ“‚ VeritabanÄ± TablolarÄ±

- **KULLANICILAR** â†’ KullanÄ±cÄ±ID, Ad, Soyad, Email, ÅifreHash, KayÄ±tTarihi  
- **ADRESLER** â†’ AdresID, KullanÄ±cÄ±ID (FK), Ä°l, Ä°lÃ§e, AÃ§Ä±kAdres, Tip (Fatura/Teslimat)

### ğŸ”„ SÃ¼reÃ§

1. KullanÄ±cÄ± kayÄ±t olur veya giriÅŸ yapar.  
2. GiriÅŸ yapan kullanÄ±cÄ±ya Ã¶zel sepet baÅŸlatÄ±lÄ±r.

---

## ğŸ›’ 2. ÃœrÃ¼nleri GÃ¶rÃ¼ntÃ¼leme ve Sepete Ekleme

### ğŸ“‚ VeritabanÄ± TablolarÄ±

- **URUNLER** â†’ UrunID, AdÄ±, AÃ§Ä±klama, Fiyat, StokAdedi, Marka  
- **KATEGORILER** â†’ KategoriID, Ad  
- **SEPET** â†’ SepetID, KullanÄ±cÄ±ID, OluÅŸturmaTarihi  
- **SEPET_URUNLER** â†’ SepetID (FK), UrunID (FK), Adet

### ğŸ”„ SÃ¼reÃ§

1. KullanÄ±cÄ± Ã¼rÃ¼nleri listeler (filtre, arama, kategori).  
2. ÃœrÃ¼nler sepete eklenir.  
3. Sepet tablosu kullanÄ±cÄ±nÄ±n seÃ§tiÄŸi Ã¼rÃ¼nlerle dolar.

# Ä°liÅŸkisel Veri TabanÄ±: SipariÅŸ ve Ã–deme SÃ¼reci

Bu belge, e-ticaret senaryosunda sipariÅŸin verilmesi ve Ã¶deme iÅŸlemi sÃ¼reÃ§lerini aÃ§Ä±klayan iliÅŸkisel veritabanÄ± yapÄ±sÄ±nÄ± iÃ§ermektedir.

---

## ğŸ“¦ 3. SipariÅŸin Verilmesi (Ã–deme Ã–ncesi)

### ğŸ“‚ VeritabanÄ± TablolarÄ±

- **SIPARISLER** â†’ SiparisID, KullanÄ±cÄ±ID, SiparisTarihi, Durum (OnaylandÄ±, HazÄ±rlanÄ±yor)  
- **SIPARIS_DETAYLARI** â†’ SiparisID (FK), UrunID (FK), Adet, BirimFiyat, Ä°ndirim, KDV  
- **ODEMELER** â†’ OdemeID, SiparisID (FK), Tutar, YÃ¶ntem (Kredi, Havale), OdemeTarihi

### ğŸ”„ SÃ¼reÃ§

1. Sepet onaylanÄ±r, veritabanÄ±na **SIPARIS** olarak kaydedilir.  
2. Sepetteki Ã¼rÃ¼nler **SIPARIS_DETAYLARI**'na aktarÄ±lÄ±r.  
3. KullanÄ±cÄ± Ã¶deme sayfasÄ±na yÃ¶nlendirilir.

---

## ğŸ’³ 4. Ã–deme Ä°ÅŸlemi

### ğŸ“‚ VeritabanÄ± TablolarÄ±

- **ODEME_GECMISI** â†’ KullanÄ±cÄ±ID, OdemeID, SonuÃ§, BankaReferansKodu  
- **FATURA** â†’ FaturaID, SiparisID (FK), FaturaTarihi, Tip (e-Fatura)

### ğŸ”„ SÃ¼reÃ§

1. Kredi kartÄ± ile Ã¶deme yapÄ±lÄ±r â†’ Ã¶deme servisinden onay alÄ±nÄ±r.  
2. Ã–deme sonucu ve referans kodu saklanÄ±r.  
3. Fatura kaydÄ± oluÅŸturulur.

# Ä°liÅŸkisel Veri TabanÄ±: Kargo, Teslimat ve Geri Bildirim SÃ¼reÃ§leri

Bu belge, e-ticaret sistemlerinde kargo iÅŸlemleri ile opsiyonel iade ve yorum sÃ¼reÃ§lerini aÃ§Ä±klayan iliÅŸkisel veritabanÄ± yapÄ±sÄ±nÄ± iÃ§ermektedir.

---

## ğŸšš 5. Kargo ve Teslimat SÃ¼reci

### ğŸ“‚ VeritabanÄ± TablolarÄ±

- **KARGO** â†’ KargoID, SiparisID, KargoFirmasÄ±, TakipNo, Durum  
- **TESLIMAT_ADRESI** â†’ SiparisID, AdresID

### ğŸ”„ SÃ¼reÃ§

1. ÃœrÃ¼n hazÄ±rlanÄ±r â†’ kargo bilgisi oluÅŸturulur.  
2. KullanÄ±cÄ±ya kargo takip numarasÄ± iletilir.  
3. Teslimat durumu gÃ¼ncellenir.

---

## ğŸ’¬ 6. Ä°ade & Yorum SÃ¼reci (Opsiyonel)

### ğŸ“‚ VeritabanÄ± TablolarÄ±

- **IADE_TALEPLERI** â†’ IadeID, SiparisDetayID, Sebep, Durum  
- **URUN_YORUMLARI** â†’ YorumID, UrunID, KullanÄ±cÄ±ID, YorumMetni, Puan

### ğŸ”„ SÃ¼reÃ§

- KullanÄ±cÄ± Ã¼rÃ¼nÃ¼ iade talebinde bulunabilir.  
- KullanÄ±cÄ± Ã¼rÃ¼nlere yorum ve puan ekleyebilir.

# Stage (Staging) Tablolar

**Stage (staging)** tablolar, dÄ±ÅŸ sistemlerden gelen verilerin ilk olarak yÃ¼klendiÄŸi geÃ§ici alanlardÄ±r.  
Ham veri burada tutulur, temizlenir ve dÃ¶nÃ¼ÅŸtÃ¼rÃ¼lmeden Ã¶nce kontrol edilir.

## Ã–zellikler ve AÃ§Ä±klamalarÄ±

| Ã–zellik                | AÃ§Ä±klama                                                                 |
|------------------------|--------------------------------------------------------------------------|
| **GeÃ§icidir**          | Genellikle iÅŸlem sonrasÄ± silinir veya Ã¼zerine yazÄ±lÄ±r.                   |
| **Veri Kalitesi KontrolÃ¼** | Null kontrolleri, tip dÃ¶nÃ¼ÅŸÃ¼mleri, hata loglama burada yapÄ±lÄ±r.      |
| **Performans**         | YÃ¼ksek performans iÃ§in genellikle indeks kullanÄ±lmaz.                    |
| **Kaynak Sisteme Benzer** | Kaynak sistemdeki veri yapÄ±sÄ±nÄ±n aynÄ±sÄ± veya Ã§ok benzeri olabilir.    |

# Fact Tablolar

**Fact tablolar**, Ã¶lÃ§Ã¼lebilir, sayÄ±sal verileri tutan ve genellikle **zaman iÃ§inde analiz edilen** ana tablolardÄ±r.  
Veri ambarÄ±nÄ±n kalbidir. Ã‡ok veri olmalÄ±

## Ã–zellikler ve AÃ§Ä±klamalarÄ±

| Ã–zellik                 | AÃ§Ä±klama                                                                 |
|-------------------------|--------------------------------------------------------------------------|
| **Ã–lÃ§Ã¼ TutarlarÄ±**      | SatÄ±ÅŸ miktarÄ±, gelir, indirim vs. gibi sayÄ±sal deÄŸerler.                 |
| **Foreign Key**         | Dimension (boyut) tablolarÄ±na baÄŸlanÄ±r.                                  |
| **YÃ¼ksek SatÄ±r SayÄ±sÄ±** | Milyonlarca satÄ±r iÃ§erebilir.                                            |
| **Zaman Boyutu**        | Genellikle tarih/zaman Ã¼zerinden analiz edilir.                          |

# Dimension Tablolar

**Dimension tablolar**, baÄŸlam saÄŸlar.  
**Fact** tablosundaki sayÄ±sal verilerin **neyle ilgili olduÄŸunu** aÃ§Ä±klar.Tek veri olmalÄ±

## Ã–zellikler ve AÃ§Ä±klamalarÄ±

| Ã–zellik              | AÃ§Ä±klama                                                                 |
|----------------------|--------------------------------------------------------------------------|
| **TanÄ±mlayÄ±cÄ± Veri** | ÃœrÃ¼n adÄ±, mÃ¼ÅŸteri bilgisi, tarih detaylarÄ± gibi.                         |
| **Daha Az SatÄ±r**    | Genellikle fact tablolarÄ±na gÃ¶re Ã§ok daha az satÄ±ra sahiptir.            |
| **Anahtarlar**       | Fact tabloya baÄŸlanan **primary key** iÃ§erir.                            |

# Datamartlar

**Datamart**, bir veri ambarÄ±nÄ±n alt kÃ¼mesi olarak dÃ¼ÅŸÃ¼nÃ¼lebilir. Belirli bir departmanÄ±n ya da iÅŸ biriminin ihtiyaÃ§ duyduÄŸu verilere odaklanÄ±r.

## Temel Ã–zellikler

- **Datamart**, veri ambarÄ±nÄ±n daha kÃ¼Ã§Ã¼k, Ã¶zelleÅŸtirilmiÅŸ bir versiyonudur.
- Belirli iÅŸ birimlerine Ã¶zel ve hÄ±zlÄ± analiz saÄŸlar.
- Genellikle **fact + dimension** (yani yÄ±ldÄ±z ÅŸemasÄ±) yapÄ±sÄ±na dayanÄ±r.
- BÃ¼yÃ¼k yapÄ±larda **baÄŸlÄ± datamart**, kÃ¼Ã§Ã¼k yapÄ±larda **baÄŸÄ±msÄ±z datamart** kullanÄ±lÄ±r.

# YÄ±ldÄ±z ÅemasÄ± (Star Schema)

**YÄ±ldÄ±z ÅŸemasÄ±**, bir **fact tablo** etrafÄ±nda konumlanmÄ±ÅŸ birÃ§ok **dimension (boyut) tablosundan** oluÅŸur.  
Bu yapÄ±, adÄ±nÄ± bir yÄ±ldÄ±za benzer gÃ¶rÃ¼nÃ¼mÃ¼nden alÄ±r: ortada fact tablo, Ã§evresinde ona baÄŸlÄ± boyut tablolarÄ± yer alÄ±r.

## Avantajlar ve AÃ§Ä±klamalarÄ±

| Avantaj            | AÃ§Ä±klama                                                                 |
|--------------------|--------------------------------------------------------------------------|
| **Basitlik**       | KullanÄ±cÄ±lar iÃ§in kolay anlaÅŸÄ±lÄ±r.                                       |
| **Performans**     | HÄ±zlÄ± sorgular saÄŸlar.                                                   |
| **Kolay Raporlama**| Ã–zellikle BI (iÅŸ zekÃ¢sÄ±) araÃ§larÄ±nda idealdir.                           |
| **Boyutsal Analiz**| Zaman, Ã¼rÃ¼n, mÃ¼ÅŸteri gibi boyutlarla Ã§ok yÃ¶nlÃ¼ analiz yapÄ±labilir.       |

AÅŸaÄŸÄ±daki ÅŸema, **YÄ±ldÄ±z ÅemasÄ± (Star Schema)** veri modelini temsil etmektedir.  
Bu modelde bir **Fact Table** merkezi konumda yer alÄ±rken, etrafÄ±nda ona baÄŸlanan Ã§eÅŸitli **Dimension Table** (boyut tablolarÄ±) bulunur.

# YÄ±ldÄ±z ÅemasÄ± vs Kar Tanesi ÅemasÄ±

AÅŸaÄŸÄ±daki tablo, veri ambarÄ± modellemesinde kullanÄ±lan iki temel ÅŸema yapÄ±sÄ±nÄ± karÅŸÄ±laÅŸtÄ±rÄ±r:  
**YÄ±ldÄ±z ÅemasÄ± (Star Schema)** ve **Kar Tanesi ÅemasÄ± (Snowflake Schema)**

| Ã–zellik                | YÄ±ldÄ±z ÅemasÄ±                             | Kar Tanesi ÅemasÄ±                          |
|------------------------|-------------------------------------------|--------------------------------------------|
| **YapÄ±**               | Boyut tablolarÄ± **denormalize**           | Boyut tablolarÄ± **normalize**              |
| **Sorgu KarmaÅŸÄ±klÄ±ÄŸÄ±** | Daha basit                                | Daha karmaÅŸÄ±k                              |
| **Performans**         | Daha hÄ±zlÄ± (daha az JOIN)                 | Daha yavaÅŸ                                 |
| **Veri TekrarÄ±**       | Fazla olabilir                            | Daha az                                    |

## Ã–zet

- **YÄ±ldÄ±z ÅemasÄ±**: KullanÄ±mÄ± kolay, hÄ±zlÄ± sorgular iÃ§in idealdir. Ancak veri tekrarÄ±na sebep olabilir.
- **Kar Tanesi ÅemasÄ±**: Veri bÃ¼tÃ¼nlÃ¼ÄŸÃ¼ ve daha az tekrar saÄŸlar. Ancak daha fazla JOIN iÅŸlemi iÃ§erdiÄŸinden sorgular yavaÅŸtÄ±r.

# SQL JOINs 

Bu dosya, SQL'deki JOIN iÅŸlemlerinin mantÄ±ÄŸÄ±nÄ± ve sorgu Ã¶rneklerini Venn diyagramlarÄ±yla aÃ§Ä±klamaktadÄ±r.

## JOIN TÃ¼rleri ve AÃ§Ä±klamalarÄ±

| JOIN TÃ¼rÃ¼               | AnlamÄ±                                                                                 |
|--------------------------|----------------------------------------------------------------------------------------|
| **LEFT INCLUSIVE**      | A tablosundaki tÃ¼m kayÄ±tlar ve B ile eÅŸleÅŸenler                                       |
| **LEFT EXCLUSIVE**      | A tablosundaki sadece B ile eÅŸleÅŸmeyen kayÄ±tlar                                       |
| **RIGHT INCLUSIVE**     | B tablosundaki tÃ¼m kayÄ±tlar ve A ile eÅŸleÅŸenler                                       |
| **RIGHT EXCLUSIVE**     | B tablosundaki sadece A ile eÅŸleÅŸmeyen kayÄ±tlar                                       |
| **FULL OUTER INCLUSIVE**| A ve/veya B tablosundaki tÃ¼m kayÄ±tlar                                                 |
| **FULL OUTER EXCLUSIVE**| Sadece A veya sadece B'de olan kayÄ±tlar (kesiÅŸim hariÃ§)                                |
| **INNER JOIN**          | Hem A hem de B tablosunda eÅŸleÅŸen kayÄ±tlar (kesiÅŸim)                                  |

---

## SQL Sorgu Ã–rnekleri

```sql
-- LEFT INCLUSIVE
SELECT [Select List]
FROM TableA
LEFT OUTER JOIN TableB
  ON A.Key = B.Key;

-- LEFT EXCLUSIVE
SELECT [Select List]
FROM TableA
LEFT OUTER JOIN TableB
  ON A.Key = B.Key
WHERE B.Key IS NULL;

-- RIGHT INCLUSIVE
SELECT [Select List]
FROM TableA
RIGHT OUTER JOIN TableB
  ON A.Key = B.Key;

-- RIGHT EXCLUSIVE
SELECT [Select List]
FROM TableA
RIGHT OUTER JOIN TableB
  ON A.Key = B.Key
WHERE A.Key IS NULL;

-- FULL OUTER INCLUSIVE
SELECT [Select List]
FROM TableA
FULL OUTER JOIN TableB
  ON A.Key = B.Key;

-- FULL OUTER EXCLUSIVE
SELECT [Select List]
FROM TableA
FULL OUTER JOIN TableB
  ON A.Key = B.Key
WHERE A.Key IS NULL OR B.Key IS NULL;

-- INNER JOIN
SELECT [Select List]
FROM TableA
INNER JOIN TableB
  ON A.Key = B.Key;




////////////////////////////////////////////////////////

--TABLO BIRLESTIRILMESI

select top 5 * from ORDERS o
inner join ORDERDETAILS od on o.ID=od.ORDERID
inner join ITEMS ITM ON ITM.ID=od.ITEMID
inner join USERS U ON o.USERID=U.ID
inner join ADDRESS AD ON AD.ID=o.ADDRESSID

select top 5 * from USERS o
right join ADDRESS AD ON AD.USERID=o.ID




SELECT 
	O.USERID
	,O.DATE_
	,O.TOTALPRICE
	,ITM.ITEMNAME
	,ITM.CATEGORY1
	,U.NAMESURNAME
	--,T.TOWN
FROM ORDERS O
INNER JOIN ORDERDETAILS OD ON O.ID=OD.ORDERID
INNER JOIN ITEMS ITM ON ITM.ID=OD.ITEMID
INNER JOIN USERS U ON U.ID=O.USERID
INNER JOIN ADDRESS AD ON AD.ID=O.ADDRESSID


---------------------------------------SORGULAR
SELECT * FROM [dbo].[ADDRESS]
---EN FAZLA ALIÅVERÄ°Å HANGÄ° KATEGORÄ°DE (CATEGORY1) YAPILMIÅTIR

SELECT 
  CATEGORY1, 
  SUM(CAST(LINETOTAL AS FLOAT)) AS TOTALCIRO
FROM ORDERS O
INNER JOIN ORDERDETAILS OD ON O.ID = OD.ORDERID
INNER JOIN ITEMS IT ON IT.ID = OD.ITEMID
GROUP BY CATEGORY1 
ORDER BY 2 DESC;

---EN FAZLA ALIÅÄ°VERÄ°Å HANGÄ° MARKADA YAPILMIÅ

SELECT BRAND,SUM(LINETOTAL)MARKATOPLAMCIRO FROM ORDERS O
INNER JOIN ORDERDETAILS OD ON O.ID=OD.ORDERID
INNER JOIN ITEMS IT ON IT.ID=OD.ITEMID
GROUP BY BRAND ORDER BY 2 DESC


-----EV ANA KATEGORÄ°SÄ°NDE, KÄ°TAP-DERGÄ°-KIRTASÄ°YE UST KAT, KITAP ALT EN FAZLA SATIÅ YAPAN KÄ°TAPLAR
SELECT IT.ITEMNAME,SUM(AMOUNT)KITAPSATISADET FROM ORDERS O
INNER JOIN ORDERDETAILS OD ON O.ID=OD.ORDERID
INNER JOIN ITEMS IT ON IT.ID=OD.ITEMID
WHERE CATEGORY1='EV' AND CATEGORY2='KITAP-DERGI-KIRTASIYE' AND CATEGORY3='KITAP'
GROUP BY IT.ITEMNAME ORDER BY 2 DESC


-------OYUNCAK KATEGORÄ°SÄ°NDE ÃœRÃœNLERÄ°N ORTALAMA FÄ°YATI NEDÄ°R ?

SELECT 
CATEGORY1,
SUM(LINETOTAL) AS CIRO,
SUM(AMOUNT) AS ADET, 
SUM(LINETOTAL)/SUM(AMOUNT) AS ORTFIYAT
FROM ORDERS O
INNER JOIN ORDERDETAILS OD ON O.ID=OD.ORDERID
INNER JOIN ITEMS IT ON IT.ID=OD.ITEMID
WHERE CATEGORY1='OYUNCAK'
GROUP BY CATEGORY1

------KOZMETIKTE ÅAMPUAN KATEGORÄ°SÄ°NDE EN DÃœÅÃœK BÄ°RÄ°M FÄ°YATY HANGÄ° MARKANIN
SELECT DISTINCT BRAND,CATEGORY3 FROM ITEMS WHERE CATEGORY1='KOZMETIK'

SELECT DISTINCT BRAND,CATEGORY3 FROM ITEMS WHERE CATEGORY1='KOZMETIK'
AND CATEGORY3 LIKE '%SAMPU%' ORDER BY 1

SELECT DISTINCT BRAND,MIN(OD.UNITPRICE)AS ORTBIRIMFIYAT FROM ORDERS O
INNER JOIN ORDERDETAILS OD ON O.ID=OD.ORDERID
INNER JOIN ITEMS IT ON IT.ID=OD.ITEMID
WHERE CATEGORY1='KOZMETIK' AND CATEGORY3 LIKE '%SAMPU%'
GROUP BY BRAND ORDER BY 2 DESC


------------HANGÄ° YAÅ GRUPLARI DAHA FAZLA ALIÅVERÄ°Å YAPMIÅ? (ADET)

SELECT ITEMNAME,SUM(AMOUNT)TOPLAMADET FROM ORDERS O
INNER JOIN ORDERDETAILS OD ON O.ID=OD.ORDERID
INNER JOIN USERS U ON U.ID=O.USERID
INNER JOIN ITEMS IT ON IT.ID=OD.ITEMID
WHERE AGE=85 AND CATEGORY4='KIRTASIYE GERECLERI'
GROUP BY ITEMNAME
ORDER BY 2 DESC


---------------------KADINLAR NELER ALMIÅ ?

SELECT CATEGORY1,CATEGORY2,CATEGORY3,CATEGORY4,SUM(LINETOTAL)LINETOTAL FROM ORDERS O
INNER JOIN ORDERDETAILS OD ON O.ID=OD.ORDERID
INNER JOIN USERS U ON U.ID=O.USERID
INNER JOIN ITEMS IT ON IT.ID=OD.ITEMID
WHERE GENDER='K'
GROUP BY CATEGORY1,CATEGORY2,CATEGORY3,CATEGORY4
ORDER BY 5 DESC

SELECT ITEMNAME,SUM(LINETOTAL)LINETOTAL FROM ORDERS O
INNER JOIN ORDERDETAILS OD ON O.ID=OD.ORDERID
INNER JOIN USERS U ON U.ID=O.USERID
INNER JOIN ITEMS IT ON IT.ID=OD.ITEMID
WHERE GENDER='K' AND CATEGORY4='BEBE OYUNCAK'
GROUP BY ITEMNAME
ORDER BY 2 DESC


--------18-35 YAÅ GRUBU NELER ALMIÅ

SELECT CATEGORY2,CATEGORY3,CATEGORY4,SUM(LINETOTAL)LINETOTAL FROM ORDERS O
INNER JOIN ORDERDETAILS OD ON O.ID=OD.ORDERID
INNER JOIN USERS U ON U.ID=O.USERID
INNER JOIN ITEMS IT ON IT.ID=OD.ITEMID
WHERE AGE BETWEEN 18 AND 35 AND CATEGORY1='GIDA'
GROUP BY CATEGORY2,CATEGORY3,CATEGORY4
ORDER BY 3,4 DESC
